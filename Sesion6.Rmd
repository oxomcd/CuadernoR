---
title: "R Notebook"
output: html_notebook
---
```{r}
library(gapminder)
library(dplyr)

summarize(gapminder, medianLifeExp=median(lifeExp))

gapminder %>% 
  filter(year == 1957  ) %>%
  summarize(medianLifeExp=median(lifeExp))

gapminder %>%
   filter(year == 1957  ) %>%
   summarize(medianLifeExp=median(lifeExp), max(gdpPercap))


```
```{r}
gapminder %>%
  group_by(year)%>% #aqui pueden ir cualquier cantidad de variables segun el comportamiento deseado
  summarize(medianLifeExp = median(lifeExp), max(gdpPercap))
```
```{r}
gapminder %>%
  filter(year == 1957)%>%
  group_by(continent)%>% #aqui pueden ir cualquier cantidad de variables segun el comportamiento deseado
  summarize(medianLifeExp = median(lifeExp), max(gdpPercap))

```

```{r}
gapminder %>%
 
  group_by(continent , year)%>% 
  summarize(medianLifeExp = median(lifeExp), max(gdpPercap))
```
```{r}
by_year <- gapminder %>%
 
  group_by( year)%>% 
  summarize(medianLifeExp = median(lifeExp), max(gdpPercap))

ggplot(by_year, aes(x=year , y = medianLifeExp)) +
         geom_point()

```
```{r}
by_year_continent <- gapminder %>%
 
  group_by(continent, year)%>% 
  summarize(medianGdpPerCap= median(gdpPercap))

ggplot(by_year_continent, aes(x=year , y = medianGdpPerCap, color = continent)) +
         geom_point()
```
```{r}
by_year_continent <- gapminder %>%
 
  group_by(continent, year)%>% 
  summarize(medianGdpPerCap= median(gdpPercap))

ggplot(by_year_continent, aes(x=year , y = medianGdpPerCap, color = continent)) +
         geom_point()
```
type or visualizations
line plots
```{r}

by_year <- gapminder %>%
 
  group_by( year)%>% 
  summarize(medianGdpPerCap= median(gdpPercap))

ggplot(by_year, aes(x=year , y = medianGdpPerCap)) +
         geom_line()

```

```{r}
by_year_continent <- gapminder %>%
 
  group_by(year, continent)%>% 
  summarize(medianGdpPerCap= median(gdpPercap))

ggplot(by_year_continent, aes(x=year , y = medianGdpPerCap, color = continent)) +
         geom_line()

```
```{r}
oceania_1952 <- gapminder %>%
  filter(continent == "Oceania", year == 1952)
oceania_1952

ggplot(oceania_1952, aes(x=country , y = gdpPercap, fill=country))+
  geom_col()

```
histogramas
```{r}
gapminder_1952 <- gapminder%>%
  filter (year == 1952)%>%
  mutate(pop_by_mil=pop/1000000)

gapminder_1952

ggplot(gapminder_1952, aes(x=pop_by_mil))+
  geom_histogram(bins=100)
  
```
```{r}
ggplot(gapminder_1952, aes(x=pop))+
  geom_histogram(bins=50)+
  scale_x_log10()
```

```{r}

gapminder_1952 <- gapminder %>%
  filter(year==1952)
ggplot(gapminder_1952, aes(x=continent, y= gdpPercap))+
  geom_boxplot()+
  scale_y_log10()


gapminder_oceania <- gapminder %>%
  filter(year==1952, continent=="Oceania")
ggplot(gapminder_oceania, aes(x=continent, y= gdpPercap))+
  geom_boxplot()+
  scale_y_log10()

```
```{r}
library(dplyr)
counties <- read.csv('counties.csv')

counties %>%
  select(state, county, population, men, women) %>%
  mutate(proportion_men = men/population)%>%
  filter(population >10000)%>%
  arrange(desc(proportion_men))
```

